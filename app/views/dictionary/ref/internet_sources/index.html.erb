<%# app/views/dictionary/ref/internet_sources/index.html.erb %>
<div class="dictionary-container">
  <h1>Internet Sources</h1>

  <%= form_with url: ref_internet_sources_path, method: :get, local: true, class: "search-form" do |f| %>
    <%= f.text_field :q, value: params[:q], placeholder: "Search title or URL...", class: "search-input" %>
    <%= f.submit "Search", class: "btn-primary" %>
  <% end %>

  <table class="dic-table">
    <thead>
    <tr>
      <th>Source Title</th>
      <th>URL</th>
    </tr>
    </thead>
    <tbody>
    <% @records.each do |record| %>
      <tr>
        <td><%= link_to record.ref_title, ref_internet_source_path(record) %></td>
        <td><%= link_to record.ref_url.truncate(70), record.ref_url, target: "_blank", class: "external-link" %></td>
      </tr>
    <% end %>
    </tbody>
  </table>

  <div class="pagination-simple">
    <% if @page > 1 %>
      <%= link_to "← Prev", ref_internet_sources_path(page: @page - 1, q: params[:q]), class: "btn" %>
    <% end %>
    <span class="page-info">Page <%= @page %></span>
    <% if @records.count == @per_page %>
      <%= link_to "Next →", ref_internet_sources_path(page: @page + 1, q: params[:q]), class: "btn" %>
    <% end %>
  </div>
</div>
